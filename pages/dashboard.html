<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Trustlink – Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Chart -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <!-- Sidebar CSS -->
  <link rel="stylesheet" href="../css/sidebar.css">
</head>

<body class="bg-[#f5f3ff] text-slate-800">

<!-- Sidebar -->
<div id="sidebar-container"></div>

<!-- Main -->
<main class="max-w-md mx-auto px-4 pt-4 pb-28">

  <!-- Header -->
  <header class="flex items-center justify-between mb-6">
    <button onclick="openSidebar()" class="p-3 rounded-2xl bg-white shadow">
      <svg class="w-6 h-6 text-[#6d2cf3]" fill="none" stroke="currentColor" stroke-width="1.8"
        viewBox="0 0 24 24">
        <path stroke-linecap="round" d="M4 6h16M4 12h16M4 18h16"/>
      </svg>
    </button>

    <h1 class="text-lg font-semibold">Dashboard</h1>

    <!-- Notifications with badge -->
    <button class="relative p-3 rounded-2xl bg-[#6d2cf3] text-white shadow-lg">
      <svg class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="1.8"
        viewBox="0 0 24 24">
        <path stroke-linecap="round"
          d="M15 17h5l-1.4-1.4A2 2 0 0118 14.2V11a6 6 0 10-12 0v3.2c0 .5-.2 1-.6 1.4L4 17h5"/>
        <path stroke-linecap="round" d="M9 17a3 3 0 006 0"/>
      </svg>
      <span
        class="absolute -top-1 -right-1
               w-5 h-5 rounded-full
               bg-yellow-400 text-[#4b1bb3]
               text-xs font-bold flex items-center justify-center">
        3
      </span>
    </button>
  </header>

  <!-- Wallet Card -->
  <section
    class="bg-gradient-to-br from-[#6d2cf3] to-[#4b1bb3]
           rounded-3xl p-6 text-white shadow-xl mb-6">

    <div class="flex items-center justify-between">
      <p class="text-sm opacity-80">Solde total</p>
      <span
        class="px-3 py-1 rounded-full
               bg-white/20 text-xs font-medium">
        Actif
      </span>
    </div>

    <h2 class="text-4xl font-bold mt-3">$ 2,450.00</h2>
    <p class="text-sm opacity-80 mt-1">≈ 6 615 000 CDF</p>

    <!-- Quick stats -->
    <div class="mt-5 flex gap-3">
      <div class="flex-1 bg-white/15 rounded-2xl p-3 text-center">
        <p class="text-xs opacity-80">Entrées</p>
        <p class="font-semibold mt-1">+ $820</p>
      </div>
      <div class="flex-1 bg-white/15 rounded-2xl p-3 text-center">
        <p class="text-xs opacity-80">Sorties</p>
        <p class="font-semibold mt-1">- $410</p>
      </div>
    </div>
  </section>

  <!-- Chart -->
  <section class="bg-white rounded-3xl p-5 shadow mb-6">
    <div class="flex items-center justify-between mb-4">
      <h3 class="font-semibold">Évolution du solde</h3>
      <span class="text-xs text-green-600 font-medium">
        +12%
      </span>
    </div>
    <canvas id="balanceChart" height="120"></canvas>
  </section>

  <!-- Transactions -->
  <section class="bg-white rounded-3xl p-5 shadow">
    <div class="flex items-center justify-between mb-4">
      <h3 class="font-semibold">Transactions récentes</h3>
      <span class="text-xs text-slate-400">
        Aujourd’hui
      </span>
    </div>

    <!-- Scrollable -->
    <div class="space-y-4 max-h-72 overflow-y-auto pr-1">

      <!-- Item -->
      <div class="flex items-center justify-between">
        <div class="flex items-center gap-3">
          <!-- Avatar -->
          <div
            class="w-11 h-11 rounded-full
                   bg-gradient-to-br from-green-400 to-emerald-500
                   text-white font-bold
                   flex items-center justify-center">
            JK
          </div>

          <div>
            <p class="font-medium">Junior Kalala</p>
            <p class="text-xs text-slate-400">Entrée • USD</p>
          </div>
        </div>

        <div class="text-right">
          <p class="font-semibold text-green-600">+ $120</p>
          <span
            class="inline-block mt-1
                   px-2 py-0.5 rounded-full
                   bg-green-100 text-green-600 text-xs">
            Reçu
          </span>
        </div>
      </div>

      <!-- Item -->
      <div class="flex items-center justify-between">
        <div class="flex items-center gap-3">
          <div
            class="w-11 h-11 rounded-full
                   bg-gradient-to-br from-red-400 to-rose-500
                   text-white font-bold
                   flex items-center justify-center">
            GM
          </div>

          <div>
            <p class="font-medium">Grâce Mukendi</p>
            <p class="text-xs text-slate-400">Sortie • CDF</p>
          </div>
        </div>

        <div class="text-right">
          <p class="font-semibold text-red-600">- 150 000</p>
          <span
            class="inline-block mt-1
                   px-2 py-0.5 rounded-full
                   bg-red-100 text-red-600 text-xs">
            Envoyé
          </span>
        </div>
      </div>

      <!-- Item -->
      <div class="flex items-center justify-between">
        <div class="flex items-center gap-3">
          <div
            class="w-11 h-11 rounded-full
                   bg-gradient-to-br from-indigo-400 to-violet-500
                   text-white font-bold
                   flex items-center justify-center">
            MT
          </div>

          <div>
            <p class="font-medium">Moïse Tshibanda</p>
            <p class="text-xs text-slate-400">Entrée • USD</p>
          </div>
        </div>

        <div class="text-right">
          <p class="font-semibold text-green-600">+ $75</p>
          <span
            class="inline-block mt-1
                   px-2 py-0.5 rounded-full
                   bg-green-100 text-green-600 text-xs">
            Reçu
          </span>
        </div>
      </div>

    </div>
  </section>

</main>

<!-- Load sidebar -->
<script>
  fetch("../partials/sidebar.html")
    .then(r => r.text())
    .then(html => {
      document.getElementById("sidebar-container").innerHTML = html;
    });
</script>

<script src="../js/sidebar.js"></script>

<!-- Chart -->
<script>
  new Chart(document.getElementById("balanceChart"), {
    type: "line",
    data: {
      labels: ["Jan", "Fév", "Mar", "Avr", "Mai", "Juin"],
      datasets: [{
        data: [1800, 1950, 2100, 2050, 2300, 2450],
        borderColor: "#6d2cf3",
        backgroundColor: "rgba(109,44,243,0.2)",
        tension: 0.45,
        fill: true
      }]
    },
    options: {
      plugins: { legend: { display: false } },
      scales: { x: { display: false }, y: { display: false } }
    }
  });
</script>

</body>
</html>
